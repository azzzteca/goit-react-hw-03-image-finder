(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{11:function(e,a,t){e.exports={imageGallery:"ImageGallery_imageGallery__3WVxC",imageGalleryItem:"ImageGallery_imageGalleryItem__15Maq"}},12:function(e,a,t){e.exports={overlay:"Modal_overlay__2Jgzy",modal:"Modal_modal__2euLZ"}},13:function(e,a,t){e.exports={App:"App_App__2qwHS",Loader:"App_Loader__32n_o"}},16:function(e,a,t){e.exports={imageGalleryImage:"ImageGalleryItem_imageGalleryImage__3WOsN"}},17:function(e,a,t){e.exports={buttonMore:"Button_buttonMore__1sYro"}},22:function(e,a,t){},3:function(e,a,t){e.exports={bar:"SearchBar_bar__aEx2J",formSearch:"SearchBar_formSearch__V5Gyj",buttonSearch:"SearchBar_buttonSearch__3yPD-",inputSearch:"SearchBar_inputSearch__1OVTo"}},45:function(e,a,t){"use strict";t.r(a);var n=t(0),o=t.n(n),r=t(4),c=t.n(r),i=(t(22),t(14)),s=t(5),l=t(6),m=t(8),h=t(7),u=t(15),d=t.n(u),g=t(9),p=t(3),j=t.n(p),b=t(1);function f(e){var a=e.onSearchImages;return Object(b.jsx)("header",{className:j.a.bar,children:Object(b.jsxs)("form",{onSubmit:a,className:j.a.formSearch,name:"formSearch",children:[Object(b.jsx)("button",{type:"submit",className:j.a.buttonSearch,name:"buttonSearch",children:" "}),Object(b.jsx)("input",{type:"text",name:"inputSearch",className:j.a.inputSearch,autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})}var S=t(16),O=t.n(S);function _(e){var a=e.image,t=e.onShowImageInModal;return Object(b.jsx)("img",{onClick:t,id:a.id,src:a.webformatURL,lowsrc:a.largeImageURL,alt:a.tags,className:O.a.imageGalleryImage})}var I=t(11),y=t.n(I);function v(e){var a=e.imageList,t=e.onShowImageInModal;return Object(b.jsx)("ul",{className:y.a.imageGallery,children:a.map((function(e,a){return Object(b.jsx)("li",{className:y.a.imageGalleryItem,children:Object(b.jsx)(_,{image:e,onShowImageInModal:t})},a)}))})}var x=t(17),w=t.n(x);function M(e){var a=e.onLoadMore;return Object(b.jsx)("button",{onClick:a,type:"button",className:w.a.buttonMore,children:"Load more"})}var L=t(12),G=t.n(L),N=function(e){Object(m.a)(t,e);var a=Object(h.a)(t);function t(){return Object(s.a)(this,t),a.apply(this,arguments)}return Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("keydown",(function(a){"Escape"===a.code&&e.props.closeModal()}))}},{key:"render",value:function(){var e=this;return Object(b.jsx)("div",{onClick:function(a){"IMG"!==a.target.nodeName&&e.props.closeModal()},className:G.a.overlay,children:Object(b.jsx)("div",{className:G.a.modal,children:Object(b.jsx)("img",{src:this.props.url,alt:""})})})}}]),t}(o.a.Component),k=t(13),C=t.n(k),B=(t(44),function(e){Object(m.a)(t,e);var a=Object(h.a)(t);function t(){var e;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=a.call.apply(a,[this].concat(o))).state={image:null,page:1,imageList:[],modalIsShown:!1,loading:!1,error:null},e.handleSearchImages=function(a){if(a.preventDefault(),""===a.target.elements.inputSearch.value)return Object(g.b)("Please input picture name");e.setState({image:a.target.elements.inputSearch.value,imageList:[],page:1}),a.target.reset()},e.handleOnLoadMore=function(a){e.setState((function(e){return{page:e.page+1}}))},e.onHandleShowImageInModal=function(a){a.preventDefault(),e.setState({hiSrcImageUrl:a.target.lowsrc,modalIsShown:!0})},e.onHandleCloseModal=function(){e.setState({modalIsShown:!1})},e}return Object(l.a)(t,[{key:"componentDidUpdate",value:function(e,a){var t=this;a.image===this.state.image&&a.page===this.state.page||(this.setState({loading:!0}),fetch("https://pixabay.com/api/?key=22659093-928fc585fa86297f1703a77f0&q=".concat(this.state.image,"&orientation=horizontal&page=").concat(this.state.page,"&per_page=12")).then((function(e){if(e.ok)return e.json()})).then((function(e){if(0===e.hits.length)throw new Error;t.setState((function(a){return{imageList:[].concat(Object(i.a)(a.imageList),Object(i.a)(e.hits))}}))})).catch((function(e){Object(g.b)("Please input correct picture name")})).finally(this.setState({loading:!1}))),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}},{key:"render",value:function(){return Object(b.jsxs)("div",{className:C.a.App,children:[Object(b.jsx)(f,{onSearchImages:this.handleSearchImages}),Object(b.jsx)(v,{imageList:this.state.imageList,onShowImageInModal:this.onHandleShowImageInModal}),0!==this.state.imageList.length&&Object(b.jsx)(M,{onLoadMore:this.handleOnLoadMore}),this.state.loading&&Object(b.jsx)("div",{className:C.a.Loader,children:Object(b.jsx)(d.a,{type:"ThreeDots",color:"#00BFFF",height:50,width:50})}),this.state.modalIsShown&&Object(b.jsx)(N,{url:this.state.hiSrcImageUrl,closeModal:this.onHandleCloseModal}),Object(b.jsx)(g.a,{})]})}}]),t}(o.a.Component));c.a.render(Object(b.jsx)(o.a.StrictMode,{children:Object(b.jsx)(B,{})}),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.00a21c70.chunk.js.map